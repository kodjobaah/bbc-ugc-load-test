{"ast":null,"code":"import _classCallCheck from\"/Users/kodjo/workspace/afriex/loadtest-framework/docker/control/test-admin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kodjo/workspace/afriex/loadtest-framework/docker/control/test-admin/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kodjo/workspace/afriex/loadtest-framework/docker/control/test-admin/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kodjo/workspace/afriex/loadtest-framework/docker/control/test-admin/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{post,get}from\"axios\";import{Container,Button,Dropdown,Header,Segment}from\"semantic-ui-react\";import\"./TenantDeletion.css\";import _ from\"lodash\";var TenantDeletion=/*#__PURE__*/function(_Component){_inherits(TenantDeletion,_Component);var _super=_createSuper(TenantDeletion);function TenantDeletion(){var _this;_classCallCheck(this,TenantDeletion);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={tennants:[]};_this.deleteTenant=function(){if(_this.state.value){var url=\"/delete-tenant\";var formData=new FormData();formData.set(\"TenantContext\",_this.state.value);var config={headers:{\"content-type\":\"multipart/form-data\"}};post(url,formData,config).then(function(response){console.log(response);});}};_this.handleChange=function(e,_ref){var value=_ref.value;return _this.setState({value:value});};_this.fetchTestStatus=function(){get(\"/tenants\").then(function(response){var tennants=response.data.AllTenants;var AllTenants=_.map(tennants,function(item){return{key:item.Namespace,value:item.Namespace,text:item.Namespace};});_this.setState({tennants:AllTenants});});};return _this;}_createClass(TenantDeletion,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchTestStatus();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Container,{className:\"Main-Wrapper\"},/*#__PURE__*/React.createElement(Container,{textAlign:\"center\"},/*#__PURE__*/React.createElement(Header,{as:\"h1\"},\"Tenant Deletion\")),/*#__PURE__*/React.createElement(Segment,null,/*#__PURE__*/React.createElement(Dropdown,{onChange:this.handleChange,placeholder:\"Select Tenant to Delete\",options:this.state.tennants})),/*#__PURE__*/React.createElement(Segment,null,/*#__PURE__*/React.createElement(Button,{color:\"blue\",onClick:this.deleteTenant},\" Delete Selected Tenant\")));}}]);return TenantDeletion;}(Component);export default TenantDeletion;","map":{"version":3,"sources":["/Users/kodjo/workspace/afriex/loadtest-framework/docker/control/test-admin/src/Main/Jmeter/Monitor/TenantDeletion/TenantDeletion.js"],"names":["React","Component","post","get","Container","Button","Dropdown","Header","Segment","_","TenantDeletion","state","tennants","deleteTenant","value","url","formData","FormData","set","config","headers","then","response","console","log","handleChange","e","setState","fetchTestStatus","data","AllTenants","map","item","key","Namespace","text"],"mappings":"omBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,GAAf,KAA0B,OAA1B,CACA,OACEC,SADF,CAEEC,MAFF,CAGEC,QAHF,CAIEC,MAJF,CAKEC,OALF,KAMO,mBANP,CAOA,MAAO,sBAAP,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,C,GAEMC,CAAAA,c,2VACJC,K,CAAQ,CAAEC,QAAQ,CAAE,EAAZ,C,OAMRC,Y,CAAe,UAAM,CACnB,GAAI,MAAKF,KAAL,CAAWG,KAAf,CAAsB,CACpB,GAAMC,CAAAA,GAAG,CAAG,gBAAZ,CACA,GAAMC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,QAAQ,CAACE,GAAT,CAAa,eAAb,CAA8B,MAAKP,KAAL,CAAWG,KAAzC,EAEA,GAAMK,CAAAA,MAAM,CAAG,CACbC,OAAO,CAAE,CACP,eAAgB,qBADT,CADI,CAAf,CAKAlB,IAAI,CAACa,GAAD,CAAMC,QAAN,CAAgBG,MAAhB,CAAJ,CAA4BE,IAA5B,CAAiC,SAACC,QAAD,CAAc,CAC7CC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACD,CAFD,EAGD,CACF,C,OAEDG,Y,CAAe,SAACC,CAAD,UAAMZ,CAAAA,KAAN,MAAMA,KAAN,OAAkB,OAAKa,QAAL,CAAc,CAAEb,KAAK,CAALA,KAAF,CAAd,CAAlB,E,OACfc,e,CAAkB,UAAM,CACtBzB,GAAG,CAAC,UAAD,CAAH,CAAgBkB,IAAhB,CAAqB,SAACC,QAAD,CAAc,CACjC,GAAIV,CAAAA,QAAQ,CAAGU,QAAQ,CAACO,IAAT,CAAcC,UAA7B,CAEA,GAAIA,CAAAA,UAAU,CAAGrB,CAAC,CAACsB,GAAF,CAAMnB,QAAN,CAAgB,SAAUoB,IAAV,CAAgB,CAC/C,MAAO,CAAEC,GAAG,CAAED,IAAI,CAACE,SAAZ,CAAuBpB,KAAK,CAAEkB,IAAI,CAACE,SAAnC,CAA8CC,IAAI,CAAEH,IAAI,CAACE,SAAzD,CAAP,CACD,CAFgB,CAAjB,CAGA,MAAKP,QAAL,CAAc,CAAEf,QAAQ,CAAEkB,UAAZ,CAAd,EACD,CAPD,EAQD,C,uGA/BmB,CAClB,KAAKF,eAAL,GACD,C,uCA8BQ,CACP,mBACE,oBAAC,SAAD,EAAW,SAAS,CAAC,cAArB,eACE,oBAAC,SAAD,EAAW,SAAS,CAAC,QAArB,eACE,oBAAC,MAAD,EAAQ,EAAE,CAAC,IAAX,oBADF,CADF,cAIE,oBAAC,OAAD,mBACE,oBAAC,QAAD,EACE,QAAQ,CAAE,KAAKH,YADjB,CAEE,WAAW,CAAC,yBAFd,CAGE,OAAO,CAAE,KAAKd,KAAL,CAAWC,QAHtB,EADF,CAJF,cAWE,oBAAC,OAAD,mBACE,oBAAC,MAAD,EAAQ,KAAK,CAAC,MAAd,CAAqB,OAAO,CAAE,KAAKC,YAAnC,4BADF,CAXF,CADF,CAiBD,C,4BArD0BZ,S,EAwD7B,cAAeS,CAAAA,cAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { post, get } from \"axios\";\nimport {\n  Container,\n  Button,\n  Dropdown,\n  Header,\n  Segment,\n} from \"semantic-ui-react\";\nimport \"./TenantDeletion.css\";\nimport _ from \"lodash\";\n\nclass TenantDeletion extends Component {\n  state = { tennants: [] };\n\n  componentDidMount() {\n    this.fetchTestStatus();\n  }\n\n  deleteTenant = () => {\n    if (this.state.value) {\n      const url = \"/delete-tenant\";\n      const formData = new FormData();\n      formData.set(\"TenantContext\", this.state.value);\n\n      const config = {\n        headers: {\n          \"content-type\": \"multipart/form-data\",\n        },\n      };\n      post(url, formData, config).then((response) => {\n        console.log(response);\n      });\n    }\n  };\n\n  handleChange = (e, { value }) => this.setState({ value });\n  fetchTestStatus = () => {\n    get(\"/tenants\").then((response) => {\n      let tennants = response.data.AllTenants;\n\n      let AllTenants = _.map(tennants, function (item) {\n        return { key: item.Namespace, value: item.Namespace, text: item.Namespace };\n      });\n      this.setState({ tennants: AllTenants });\n    });\n  };\n  render() {\n    return (\n      <Container className=\"Main-Wrapper\">\n        <Container textAlign=\"center\">\n          <Header as=\"h1\">Tenant Deletion</Header>\n        </Container>\n        <Segment>\n          <Dropdown\n            onChange={this.handleChange}\n            placeholder=\"Select Tenant to Delete\"\n            options={this.state.tennants}\n          />\n        </Segment>\n        <Segment>\n          <Button color=\"blue\" onClick={this.deleteTenant}> Delete Selected Tenant</Button>\n        </Segment>\n      </Container>\n    );\n  }\n}\n\nexport default TenantDeletion;\n"]},"metadata":{},"sourceType":"module"}