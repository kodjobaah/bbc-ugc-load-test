{"ast":null,"code":"import _classCallCheck from\"/Users/kodjo/workspace/afriex/loadtest-framework/docker/control/test-admin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kodjo/workspace/afriex/loadtest-framework/docker/control/test-admin/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kodjo/workspace/afriex/loadtest-framework/docker/control/test-admin/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kodjo/workspace/afriex/loadtest-framework/docker/control/test-admin/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{post,get}from\"axios\";import{Container,Button,Dropdown,Segment}from\"semantic-ui-react\";import\"./Safely.css\";import _ from\"lodash\";var Safely=/*#__PURE__*/function(_Component){_inherits(Safely,_Component);var _super=_createSuper(Safely);function Safely(){var _this;_classCallCheck(this,Safely);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={tennants:[]};_this.stopTest=function(){if(_this.state.value){var url=\"/stop-test\";var formData=new FormData();formData.set(\"StopContext\",_this.state.value);var config={headers:{\"content-type\":\"multipart/form-data\"}};post(url,formData,config).then(function(response){console.log(response);});}};_this.handleChange=function(e,_ref){var value=_ref.value;return _this.setState({value:value});};_this.fetchTenants=function(){get(\"/tenants\").then(function(response){var tennants=response.data.AllTenants;var AllTenants=_.map(tennants,function(item){return{key:item.Namespace,value:item.Namespace,text:item.Namespace};});_this.setState({tennants:AllTenants});});};return _this;}_createClass(Safely,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchTenants();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Container,{className:\"Main-Wrapper\"},/*#__PURE__*/React.createElement(Segment,null,/*#__PURE__*/React.createElement(Dropdown,{onChange:this.handleChange,placeholder:\"Select Tenant to Stop\",options:this.state.tennants})),/*#__PURE__*/React.createElement(Segment,null,/*#__PURE__*/React.createElement(Button,{color:\"blue\",onClick:this.stopTest},\" Stop Test Safely\")));}}]);return Safely;}(Component);export default Safely;","map":{"version":3,"sources":["/Users/kodjo/workspace/afriex/loadtest-framework/docker/control/test-admin/src/Main/Jmeter/Monitor/StopTest/Safely/Safely.js"],"names":["React","Component","post","get","Container","Button","Dropdown","Segment","_","Safely","state","tennants","stopTest","value","url","formData","FormData","set","config","headers","then","response","console","log","handleChange","e","setState","fetchTenants","data","AllTenants","map","item","key","Namespace","text"],"mappings":"omBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,GAAf,KAA0B,OAA1B,CACA,OACEC,SADF,CAEEC,MAFF,CAGEC,QAHF,CAIEC,OAJF,KAKO,mBALP,CAMA,MAAO,cAAP,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,C,GAEMC,CAAAA,M,2TACJC,K,CAAQ,CAAEC,QAAQ,CAAE,EAAZ,C,OAMRC,Q,CAAW,UAAM,CACf,GAAI,MAAKF,KAAL,CAAWG,KAAf,CAAsB,CACpB,GAAMC,CAAAA,GAAG,CAAG,YAAZ,CACA,GAAMC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,QAAQ,CAACE,GAAT,CAAa,aAAb,CAA4B,MAAKP,KAAL,CAAWG,KAAvC,EAEA,GAAMK,CAAAA,MAAM,CAAG,CACbC,OAAO,CAAE,CACP,eAAgB,qBADT,CADI,CAAf,CAKAjB,IAAI,CAACY,GAAD,CAAMC,QAAN,CAAgBG,MAAhB,CAAJ,CAA4BE,IAA5B,CAAiC,SAACC,QAAD,CAAc,CAC7CC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACD,CAFD,EAGD,CACF,C,OAEDG,Y,CAAe,SAACC,CAAD,UAAMZ,CAAAA,KAAN,MAAMA,KAAN,OAAkB,OAAKa,QAAL,CAAc,CAAEb,KAAK,CAALA,KAAF,CAAd,CAAlB,E,OACfc,Y,CAAe,UAAM,CACnBxB,GAAG,CAAC,UAAD,CAAH,CAAgBiB,IAAhB,CAAqB,SAACC,QAAD,CAAc,CACjC,GAAIV,CAAAA,QAAQ,CAAGU,QAAQ,CAACO,IAAT,CAAcC,UAA7B,CACA,GAAIA,CAAAA,UAAU,CAAGrB,CAAC,CAACsB,GAAF,CAAMnB,QAAN,CAAgB,SAAUoB,IAAV,CAAgB,CAC/C,MAAO,CAAEC,GAAG,CAAED,IAAI,CAACE,SAAZ,CAAuBpB,KAAK,CAAEkB,IAAI,CAACE,SAAnC,CAA8CC,IAAI,CAAEH,IAAI,CAACE,SAAzD,CAAP,CACD,CAFgB,CAAjB,CAGA,MAAKP,QAAL,CAAc,CAAEf,QAAQ,CAAEkB,UAAZ,CAAd,EACD,CAND,EAOD,C,+FA9BmB,CAClB,KAAKF,YAAL,GACD,C,uCA6BQ,CACP,mBACE,oBAAC,SAAD,EAAW,SAAS,CAAC,cAArB,eACE,oBAAC,OAAD,mBACE,oBAAC,QAAD,EACE,QAAQ,CAAE,KAAKH,YADjB,CAEE,WAAW,CAAC,uBAFd,CAGE,OAAO,CAAE,KAAKd,KAAL,CAAWC,QAHtB,EADF,CADF,cAQE,oBAAC,OAAD,mBACE,oBAAC,MAAD,EAAQ,KAAK,CAAC,MAAd,CAAqB,OAAO,CAAE,KAAKC,QAAnC,sBADF,CARF,CADF,CAcD,C,oBAjDkBX,S,EAoDrB,cAAeQ,CAAAA,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { post, get } from \"axios\";\nimport {\n  Container,\n  Button,\n  Dropdown,\n  Segment,\n} from \"semantic-ui-react\";\nimport \"./Safely.css\";\nimport _ from \"lodash\";\n\nclass Safely extends Component {\n  state = { tennants: [] };\n\n  componentDidMount() {\n    this.fetchTenants();\n  }\n\n  stopTest = () => {\n    if (this.state.value) {\n      const url = \"/stop-test\";\n      const formData = new FormData();\n      formData.set(\"StopContext\", this.state.value);\n\n      const config = {\n        headers: {\n          \"content-type\": \"multipart/form-data\",\n        },\n      };\n      post(url, formData, config).then((response) => {\n        console.log(response);\n      });\n    }\n  };\n\n  handleChange = (e, { value }) => this.setState({ value });\n  fetchTenants = () => {\n    get(\"/tenants\").then((response) => {\n      let tennants = response.data.AllTenants;\n      let AllTenants = _.map(tennants, function (item) {\n        return { key: item.Namespace, value: item.Namespace, text: item.Namespace };\n      });\n      this.setState({ tennants: AllTenants });\n    });\n  };\n  render() {\n    return (\n      <Container className=\"Main-Wrapper\">\n        <Segment>\n          <Dropdown\n            onChange={this.handleChange}\n            placeholder=\"Select Tenant to Stop\"\n            options={this.state.tennants}\n          />\n        </Segment>\n        <Segment>\n          <Button color=\"blue\" onClick={this.stopTest}> Stop Test Safely</Button>\n        </Segment>\n      </Container>\n    );\n  }\n}\n\nexport default Safely;\n"]},"metadata":{},"sourceType":"module"}