{"ast":null,"code":"import _classCallCheck from\"/Users/kodjo/workspace/afriex/loadtest-framework/docker/control/test-admin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kodjo/workspace/afriex/loadtest-framework/docker/control/test-admin/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kodjo/workspace/afriex/loadtest-framework/docker/control/test-admin/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kodjo/workspace/afriex/loadtest-framework/docker/control/test-admin/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import BootstrapTable from\"react-bootstrap-table-next\";import paginationFactory from\"react-bootstrap-table2-paginator\";import MyConsumer from\"../../../../../MyConsumer\";import{post}from\"axios\";import{Button,Divider}from\"semantic-ui-react\";import\"./ReportList.css\";var columns=[{dataField:\"id\",text:\"id\"},{dataField:\"date\",text:\"date\"}];export var ReportList=/*#__PURE__*/function(_Component){_inherits(ReportList,_Component);var _super=_createSuper(ReportList);function ReportList(){var _this;_classCallCheck(this,ReportList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={items:{}};_this.updateState=function(row,isSelect,rowIndex,e){_this.setState(function(state){var items=_this.state.items;if(isSelect){items[row.id]=row.date;}else{delete items[row.id];}return{items:items};});return true;};_this.generateReport=function(){var tennantList=\"\";if(Array.isArray(_this.state.items)){tennantList=_this.state.items;}else{var keys=Object.keys(_this.state.items);tennantList=_this.state.items[keys[0]];}if(typeof _this.state.items!=='undefined'){var formData=new FormData();formData.set(\"data\",tennantList);formData.set(\"tenant\",_this.props.tenant);var config={headers:{\"content-type\":\"multipart/form-data\"}};post(\"/genReport\",formData,config).then(function(response){console.log(response);});}};_this.selectRowProp={mode:\"checkbox\",// single row selection\nhideSelectAll:true,clickToSelect:true,onSelect:_this.updateState};return _this;}_createClass(ReportList,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(MyConsumer,null,function(_ref){var reports=_ref.reports;return/*#__PURE__*/React.createElement(\"div\",{key:\"lost\"},/*#__PURE__*/React.createElement(BootstrapTable//  classes=\"reportlist\"\n,{keyField:\"id\",data:reports,selectRow:_this2.selectRowProp,columns:columns,pagination:paginationFactory()}),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(Button,{color:\"blue\",onClick:_this2.generateReport},\"Generate Report\"));});}}]);return ReportList;}(Component);export default ReportList;","map":{"version":3,"sources":["/Users/kodjo/workspace/afriex/loadtest-framework/docker/control/test-admin/src/Main/Jmeter/Report/GenerateGraph/ReportList/ReportList.js"],"names":["React","Component","BootstrapTable","paginationFactory","MyConsumer","post","Button","Divider","columns","dataField","text","ReportList","state","items","updateState","row","isSelect","rowIndex","e","setState","id","date","generateReport","tennantList","Array","isArray","keys","Object","formData","FormData","set","props","tenant","config","headers","then","response","console","log","selectRowProp","mode","hideSelectAll","clickToSelect","onSelect","reports"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport MyConsumer from \"../../../../../MyConsumer\";\nimport { post } from \"axios\";\nimport { Button, Divider } from \"semantic-ui-react\";\nimport \"./ReportList.css\";\nconst columns = [\n  {\n    dataField: \"id\",\n    text: \"id\",\n  },\n  {\n    dataField: \"date\",\n    text: \"date\",\n  },\n];\n\nexport class ReportList extends Component {\n  state = {\n    items: {},\n  };\n\n  updateState = (row, isSelect, rowIndex, e) => {\n    this.setState((state) => {\n      let items = this.state.items;\n      if (isSelect) {\n        items[row.id] = row.date;\n      } else {\n        delete items[row.id];\n      }\n      return {\n        items: items,\n      };\n    });\n\n    return true;\n  };\n\n  generateReport = () => {\n\n    let tennantList = \"\";\n    if (Array.isArray(this.state.items)) {\n      tennantList = this.state.items;\n    } else {\n    var keys = Object.keys( this.state.items )\n      tennantList = this.state.items[keys[0]];\n    }\n\n    \n    if (typeof this.state.items !== 'undefined') {\n      const formData = new FormData();\n      formData.set(\"data\", tennantList);\n      formData.set(\"tenant\", this.props.tenant);\n      \n      const config = {\n        headers: {\n          \"content-type\": \"multipart/form-data\",\n        },\n      };\n      post(\"/genReport\", formData, config).then((response) => {\n        console.log(response);\n      });\n\n    }\n  };\n  selectRowProp = {\n    mode: \"checkbox\", // single row selection\n    hideSelectAll: true,\n    clickToSelect: true,\n    onSelect: this.updateState,\n  };\n  componentDidMount() {}\n\n  render() {\n    return (\n      <MyConsumer>\n        {({ reports }) => (\n          <div key=\"lost\">\n            <BootstrapTable\n              //  classes=\"reportlist\"\n              keyField=\"id\"\n              data={reports}\n              selectRow={this.selectRowProp}\n              columns={columns}\n              pagination={paginationFactory()}\n            />\n            <Divider />\n            <Button color=\"blue\" onClick={this.generateReport}>\n              Generate Report\n            </Button>\n          </div>\n        )}\n      </MyConsumer>\n    );\n  }\n}\n\nexport default ReportList;\n"]},"metadata":{},"sourceType":"module"}